<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GPRS: StdWellCont.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2F.html">GPRS2X</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2F.html">PC_CODE</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2Fcode_2F.html">code</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2Fcode_2Ffacilities_2F.html">facilities</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2Fcode_2Ffacilities_2Fstdwell_2F.html">stdwell</a></div>
<h1>StdWellCont.h</h1><a href="StdWellCont_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * File: StdWellCont.h</span>
<a name="l00003"></a>00003 <span class="comment"> * ---------------</span>
<a name="l00004"></a>00004 <span class="comment"> * Header file for class wellCont (Different Kind of Well Control)</span>
<a name="l00005"></a>00005 <span class="comment"> * Need to be subclasses for  different well controls </span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Created 04/17/99  By Hui Cao</span>
<a name="l00008"></a>00008 <span class="comment"> */</span>
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef STDWELLCONT_H_</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define STDWELLCONT_H_</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#include "../../sim/EnumDef.h"</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "../../fluid/CompFluid.h"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="keyword">class </span><a class="code" href="classWell.html">Well</a>;
<a name="l00016"></a>00016 <span class="keyword">class </span><a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>;
<a name="l00017"></a>00017 <span class="keyword">class </span><a class="code" href="classSubRRBlk.html">SubRRBlk</a>;
<a name="l00018"></a>00018 <span class="keyword">class </span><a class="code" href="classSubRWBlk.html">SubRWBlk</a>;
<a name="l00019"></a>00019 <span class="keyword">class </span><a class="code" href="classSubWRBlk.html">SubWRBlk</a>;
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="classStdWellCont.html">00021</a> <span class="keyword">class </span><a class="code" href="classStdWellCont.html">StdWellCont</a> 
<a name="l00022"></a>00022 {
<a name="l00023"></a>00023 <span class="keyword">public</span>:
<a name="l00024"></a>00024         <a class="code" href="classStdWellCont.html#5ad208ac95ca7b45121a304d23df6a31">StdWellCont</a>(<a class="code" href="classWell.html">Well</a> *well);
<a name="l00025"></a>00025         <span class="keyword">virtual</span> <a class="code" href="classStdWellCont.html#304e99fd142e3aa483bfac64a9d7d049">~StdWellCont</a>();
<a name="l00026"></a>00026 
<a name="l00027"></a>00027         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#7e1eb1b92023778665c22a98bd1f087b">initialize</a>();              <span class="comment">// initialize well control </span>
<a name="l00028"></a>00028         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#18bb1618d0591099a2b233724fab20e6">calcProps</a>();               <span class="comment">// calculate properties for each Newton iter</span>
<a name="l00029"></a>00029         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#ce4dd64bfa3db9f6340fa0b734e79985">linearize</a>();               <span class="comment">// calculate Well Jacobian (RRJ, WRJ, RWJ, WWJ) </span>
<a name="l00030"></a>00030                                                                         <span class="comment">// and RHS (WRHS, WWRHS)</span>
<a name="l00031"></a>00031         <span class="comment">// --- getters --------------</span>
<a name="l00032"></a>00032         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#aacd703e0f97ca56c7108f01a6eed614">isValid</a>() = 0;
<a name="l00033"></a>00033         <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#60bfe1dd28a2f2bed8a0080aaee28abd">getWellRate</a>() = 0;       <span class="comment">//get the input rate for rate control well</span>
<a name="l00034"></a><a class="code" href="classStdWellCont.html#c47d1da9048a7a855d7f94518b98f9d1">00034</a>         <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#c47d1da9048a7a855d7f94518b98f9d1">getExtra</a>() { <span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#57351ea26c034458df1f7b3c51d03d6e">mExtra</a>; }
<a name="l00035"></a>00035         <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#67482ba9cbcba29b4e0dac2f9ad9814e">isValidType</a>();                                     <span class="comment">//check if it is valid type</span>
<a name="l00036"></a><a class="code" href="classStdWellCont.html#75d01ea1ef8be940295f7e72ed9d6c48">00036</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#75d01ea1ef8be940295f7e72ed9d6c48">getWellBlockPres</a>(){ <span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#d52cb526b291465b8b204a167889e657">mPres</a>[0];}    <span class="comment">// $PS$: may change later</span>
<a name="l00037"></a><a class="code" href="classStdWellCont.html#470fbd810ab6944aeac1e697e98b5c60">00037</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#470fbd810ab6944aeac1e697e98b5c60">getClosedWellBHP</a>()  {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#389a7f1d411a7d81525ba70ccb221a37">rPres</a>[<a class="code" href="classStdWellCont.html#cd54286ae3e2dd9a6f156455b6a4891d">mWLoc</a>[0]];}
<a name="l00038"></a>00038 
<a name="l00039"></a>00039         <span class="comment">// $PS$: for setting bhp when constraint violated</span>
<a name="l00040"></a>00040         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#bcc9dba5c71d89478fec96f187b583fd">setBHP</a>(<span class="keywordtype">double</span> <a class="code" href="EnumDef_8h.html#d0fe68c323111d944de12851ed10376b78dddceb22a64ee01ab5beaa8be6149f">BHP</a>);
<a name="l00041"></a>00041         
<a name="l00042"></a><a class="code" href="classStdWellCont.html#82182c651260849df06e1962aead1391">00042</a>         <span class="keyword">virtual</span> <a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>* <a class="code" href="classStdWellCont.html#82182c651260849df06e1962aead1391">getWWJ_Mat</a>()               { <span class="keywordflow">return</span> (<a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>*) <a class="code" href="classStdWellCont.html#e41552bd0df02b65dd964a30f41956c0">mWWJ_Mat</a>; }
<a name="l00043"></a><a class="code" href="classStdWellCont.html#e7dfb559cfcca656c14dfdbbdf1ff0ab">00043</a>         <span class="keyword">virtual</span> <a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>* <a class="code" href="classStdWellCont.html#e7dfb559cfcca656c14dfdbbdf1ff0ab">getWRJ_Mat</a>()               { <span class="keywordflow">return</span> (<a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>*) <a class="code" href="classStdWellCont.html#32d1282a9f13edb959153639b51b1ce2">mWRJ_Mat</a>; }
<a name="l00044"></a><a class="code" href="classStdWellCont.html#a4f5b26e132b0ee5a4d6ebeefa916ae4">00044</a>         <span class="keyword">virtual</span> <a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>* <a class="code" href="classStdWellCont.html#a4f5b26e132b0ee5a4d6ebeefa916ae4">getRWJ_Mat</a>()               { <span class="keywordflow">return</span> (<a class="code" href="classGPRS__Matrix.html">GPRS_Matrix</a>*) <a class="code" href="classStdWellCont.html#5afc7bc0bdea18588767686ea8ccb337">mRWJ_Mat</a>; }
<a name="l00045"></a>00045 
<a name="l00046"></a>00046   <span class="comment">// add for thermal extension</span>
<a name="l00047"></a><a class="code" href="classStdWellCont.html#a9fa492f817f661f0c4890bbd01bca89">00047</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#a9fa492f817f661f0c4890bbd01bca89">getDens</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#3a91cb6eb4c6e5f83ac54dff54185510">mDens</a>;}
<a name="l00048"></a><a class="code" href="classStdWellCont.html#42eb4b623c6a93de6daf526983f88e85">00048</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#42eb4b623c6a93de6daf526983f88e85">getDens_dp</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#4974e7352fdea78032d91b2b15f391c3">mDDens_dp</a>;}
<a name="l00049"></a><a class="code" href="classStdWellCont.html#c6b413ba9f089438f1d46bda3a910b14">00049</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#c6b413ba9f089438f1d46bda3a910b14">getDens_dT</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#82b481ca3b40c23ebdece3fa64140ab6">mDDens_dT</a>;}
<a name="l00050"></a><a class="code" href="classStdWellCont.html#5d22aa1a4a09a27cf0133998335edcd6">00050</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#5d22aa1a4a09a27cf0133998335edcd6">getMob</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#df686e89ffcc22fcf69b383fe6ff391b">mMob</a>;}
<a name="l00051"></a><a class="code" href="classStdWellCont.html#4d973cb3cccc623cc7eb8ff019fb88e8">00051</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#4d973cb3cccc623cc7eb8ff019fb88e8">getDMob_dp</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#ba467f989f6474dc66125994e736e6fa">mDMob_dp</a>;}
<a name="l00052"></a><a class="code" href="classStdWellCont.html#732a35f9588d7e7fe39d4d3fb3310f37">00052</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#732a35f9588d7e7fe39d4d3fb3310f37">getDMob_ds</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#24f7f86dfed8228549ddb0c032b37a63">mDMob_ds</a>;}
<a name="l00053"></a><a class="code" href="classStdWellCont.html#87b740657b674ff45c67333cafecc7ae">00053</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#87b740657b674ff45c67333cafecc7ae">getDMob_dT</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#cdf43f593d71db496cba683a2b162ddb">mDMob_dT</a>;}
<a name="l00054"></a><a class="code" href="classStdWellCont.html#442c684859351a95cf40e9f7c1ff033b">00054</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#442c684859351a95cf40e9f7c1ff033b">getWI</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#26bb45be54f365b5acf3c4443f5a559b">mWI</a>;}
<a name="l00055"></a><a class="code" href="classStdWellCont.html#33635d76d98621de1d878947627a3426">00055</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#33635d76d98621de1d878947627a3426">getXcp</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#46ee5a99145f9440c54aefa2f8826060">mXcp</a>;}
<a name="l00056"></a><a class="code" href="classStdWellCont.html#3e7e3ff1a20283fdc9e06fcac92d2283">00056</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#3e7e3ff1a20283fdc9e06fcac92d2283">getHp</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#08f883bf407513cffc397222d7c9f5c1">mHp</a>;}
<a name="l00057"></a><a class="code" href="classStdWellCont.html#3214a2dd252922d5951998906d6e0190">00057</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#3214a2dd252922d5951998906d6e0190">getDHp_dp</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#e1dc39c6a831658335d4d3f4ac661d82">mDHp_dp</a>;}
<a name="l00058"></a><a class="code" href="classStdWellCont.html#af0a31461a7736b6fd6257e176d71b6f">00058</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#af0a31461a7736b6fd6257e176d71b6f">getDHp_dT</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#af54e2cef6cc2ec623059131ec1afe17">mDHp_dT</a>;}
<a name="l00059"></a><a class="code" href="classStdWellCont.html#517dede8ff27125d08c5bf6e0a526c9b">00059</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#517dede8ff27125d08c5bf6e0a526c9b">getPres</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#d52cb526b291465b8b204a167889e657">mPres</a>;}
<a name="l00060"></a><a class="code" href="classStdWellCont.html#41c339ec6dee69ab2dfd0f475ff19f41">00060</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#41c339ec6dee69ab2dfd0f475ff19f41">getWStream</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#e7b30adcc04bbc27aa46a8c61016f72f">mWStream</a>;};
<a name="l00061"></a><a class="code" href="classStdWellCont.html#051bc361db698ac8f094dd0405dcc43b">00061</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#051bc361db698ac8f094dd0405dcc43b">getDHp_dxi</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#ac5dee658f5c061ae31595156a8eed0d">mDHp_dxi</a>;}
<a name="l00062"></a><a class="code" href="classStdWellCont.html#f114f07075578366c9ce875bbf5a697c">00062</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#f114f07075578366c9ce875bbf5a697c">getDMob_dxi</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#26e9d99978f0da0be6f0854e391f64c5">mDMob_dxi</a>;}
<a name="l00063"></a><a class="code" href="classStdWellCont.html#f0e11e80bb6a0e9b8c47b95c9ee5e37c">00063</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#f0e11e80bb6a0e9b8c47b95c9ee5e37c">getDDens_dxi</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#70da7b1c92e064875d1ffd5509a69a81">mDDens_dxi</a>;}
<a name="l00064"></a><a class="code" href="classStdWellCont.html#e7c5af1345fe0739c113244a88664aca">00064</a>   <span class="keywordtype">double</span>* <a class="code" href="classStdWellCont.html#e7c5af1345fe0739c113244a88664aca">getWHCompRate</a>() {<span class="keywordflow">return</span> <a class="code" href="classStdWellCont.html#cd5e482fadf8da1b78a26ff666993ff5">mWHCompRate</a>;}
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="keyword">protected</span>:
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#d69e74961eb5e23126e91f17e4df26fb">calcBOJac</a>();               <span class="comment">// calculate well Jac for Black-Oil model       </span>
<a name="l00069"></a>00069         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#2a099224181983c5b12d9a7da461d682">calcCompJac</a>();             <span class="comment">// calculate well Jac for Compositional model   </span>
<a name="l00070"></a>00070         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#abb10b686b2481e5556da58a2eea8330">calcRHS</a>();                 <span class="comment">// calculate well RHS           </span>
<a name="l00071"></a>00071         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#c6b6b40ad7e428c1f186d3c639fc3639">calcEp_WB</a>();               <span class="comment">// calculate the phase volume fraction for injector</span>
<a name="l00072"></a>00072         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#715e00f98c65df75df67e6ef92b6c432">createMatrices</a>();
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="classStdWellCont.html#f8e7f6e4cf7e7e5b1bb52e46bd97632b">00074</a>         <a class="code" href="classWell.html">Well</a>* <a class="code" href="classStdWellCont.html#f8e7f6e4cf7e7e5b1bb52e46bd97632b">mW</a>;                                               <span class="comment">// pointer to the physical well</span>
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="classStdWellCont.html#b2c91dfec5b26794c96c18337d5b5dee">00076</a>         <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#b2c91dfec5b26794c96c18337d5b5dee">mBlackOil</a>;                                 <span class="comment">// black-oil?</span>
<a name="l00077"></a><a class="code" href="classStdWellCont.html#5d3718ea0bd91bc9a8ffc9a9ef1c1ba7">00077</a>         <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#dcc06d6ff7fd7b752d6c40e7531161cb">nPhases</a>, <a class="code" href="classStdWellCont.html#06331ccd0bada21e9d1adcded225bf15">nComps</a>, <a class="code" href="classStdWellCont.html#a2024c41c12076d24422a7a5d976291a">nHCPhases</a>, <a class="code" href="classStdWellCont.html#d6b5a0ef13d3869e66d131e99164e751">nHCComps</a>, <a class="code" href="classStdWellCont.html#5d3718ea0bd91bc9a8ffc9a9ef1c1ba7">nVars</a>, <a class="code" href="classStdWellCont.html#265c193ac1f6bfa96fbb13d75c4cb677">nSegs</a>;
<a name="l00078"></a><a class="code" href="classStdWellCont.html#a97ffc1986b047cf35673a335155ae46">00078</a>         <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#a97ffc1986b047cf35673a335155ae46">nPerfs</a>, *<a class="code" href="classStdWellCont.html#cd54286ae3e2dd9a6f156455b6a4891d">mWLoc</a>;                             <span class="comment">// number of perforation, well block location index</span>
<a name="l00079"></a><a class="code" href="classStdWellCont.html#26bb45be54f365b5acf3c4443f5a559b">00079</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#26bb45be54f365b5acf3c4443f5a559b">mWI</a>;                                    <span class="comment">// well indexes</span>
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="classStdWellCont.html#57351ea26c034458df1f7b3c51d03d6e">00081</a>         <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#57351ea26c034458df1f7b3c51d03d6e">mExtra</a>;                                             <span class="comment">// need Extra Well Jac|RHS </span>
<a name="l00082"></a>00082                                                                         <span class="comment">//  = 0: no need (BHP controlled well) </span>
<a name="l00083"></a>00083                                                                         <span class="comment">//  = 1: "half" need (rate controlled single block well) </span>
<a name="l00084"></a>00084                                                                         <span class="comment">//  = 2: need (rate controlled multiblock well) </span>
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="classStdWellCont.html#19b638e5e9072e92de2a9e53e5909159">00086</a>         <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#19b638e5e9072e92de2a9e53e5909159">mPhaseIndex</a>;                                <span class="comment">// phase index for const phase flow rate controlled well</span>
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="classStdWellCont.html#dd04c2ccb0ca7c887068e6c910929069">00088</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#dd04c2ccb0ca7c887068e6c910929069">mWPres</a>;                                 <span class="comment">// wellbore pressures</span>
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="classStdWellCont.html#a76bf778609c32ac8cbb4ae6846930e0">00090</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#a76bf778609c32ac8cbb4ae6846930e0">mWDens</a>;                                 <span class="comment">// total fluid density within the wellbore </span>
<a name="l00091"></a><a class="code" href="classStdWellCont.html#314c1e595d8515008ddee8666c91e5a2">00091</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#314c1e595d8515008ddee8666c91e5a2">mWPhaseMassRate</a>;                <span class="comment">// added for tracer, well phase mass rate in well blocks, size of nPhases*nPerfs;</span>
<a name="l00092"></a><a class="code" href="classStdWellCont.html#4e1ab6d8cbd543abc8ead136947fcc03">00092</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#4e1ab6d8cbd543abc8ead136947fcc03">mWPhaseVRate</a>;                   <span class="comment">// well phase flow rate at well block through each perforation, size of nPhases*nPerfs;</span>
<a name="l00093"></a><a class="code" href="classStdWellCont.html#cd5e482fadf8da1b78a26ff666993ff5">00093</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#cd5e482fadf8da1b78a26ff666993ff5">mWHCompRate</a>;                    <span class="comment">// this variable only presents in MsWellCont and StdWellCont;</span>
<a name="l00094"></a>00094                                                                         <span class="comment">// mWHCompRate is defined on surface for StdWell;</span>
<a name="l00095"></a>00095                                                                         <span class="comment">// mWHCompRate is defined on the top segment for MsWell;</span>
<a name="l00096"></a><a class="code" href="classStdWellCont.html#18a9e5eb0488d4e5812477a8a14e5e2e">00096</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#18a9e5eb0488d4e5812477a8a14e5e2e">mWHPhaseVRate</a>;                  <span class="comment">// well phase flow rate at surface, size of nPhases;</span>
<a name="l00097"></a><a class="code" href="classStdWellCont.html#241c972a133ef8f45d67fedab6aed39f">00097</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#241c972a133ef8f45d67fedab6aed39f">mTCompRate</a>;
<a name="l00098"></a><a class="code" href="classStdWellCont.html#d2bd8c910542eb173e02db00a4fc3a84">00098</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#d2bd8c910542eb173e02db00a4fc3a84">mWHPhaseCompRate</a>;               <span class="comment">//YQ add component rate at each well</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="classStdWellCont.html#ffa5c6ae36ba0359a489af08df7d1c97">00101</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#ffa5c6ae36ba0359a489af08df7d1c97">mEp_WB</a>;                                 <span class="comment">// for injector (injected phase volume frac at well blocks)</span>
<a name="l00102"></a><a class="code" href="classStdWellCont.html#e7b30adcc04bbc27aa46a8c61016f72f">00102</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#e7b30adcc04bbc27aa46a8c61016f72f">mWStream</a>;                               <span class="comment">// for injector (injected streams, frac of compositions)</span>
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="classStdWellCont.html#fa627408dcccf2b3fbf830cb8c5af066">00104</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#faca2439d8ec080f5d33d22504a63bac">den_g_sc</a>, <a class="code" href="classStdWellCont.html#fa627408dcccf2b3fbf830cb8c5af066">den_o_sc</a>;              <span class="comment">// gas and oil density at the well head (S.C.)</span>
<a name="l00105"></a><a class="code" href="classStdWellCont.html#39eae902beb003b0a88cd4c04971657e">00105</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#39eae902beb003b0a88cd4c04971657e">den_w_sc</a>;                                <span class="comment">// water density at the well head (S.C.)</span>
<a name="l00106"></a><a class="code" href="classStdWellCont.html#9e3669d19b675bd57058fd4664205d2a">00106</a>         <span class="keywordtype">double</span> <a class="code" href="classStdWellCont.html#2db95e8e1a9267b7a1188556b2013b33">l</a>, <a class="code" href="classStdWellCont.html#9e3669d19b675bd57058fd4664205d2a">v</a>;                                    <span class="comment">// gas and oil mole fraction at well head</span>
<a name="l00107"></a><a class="code" href="classStdWellCont.html#cd17b760dedf3d68fd28ec9815426b47">00107</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#cd17b760dedf3d68fd28ec9815426b47">Ki</a>;                                             <span class="comment">// component equilibrium ratio (composioal model only)</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="comment">// --- pointers to Well Jacobian and RHS ---</span>
<a name="l00110"></a><a class="code" href="classStdWellCont.html#7013b1dfdb38302c699b7f910cf80bc9">00110</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#41b421fcc0a7624e4a9faa2919769143">mRRJ</a>, *<a class="code" href="classStdWellCont.html#858f2675dbb8b4e0768a204e2d764cf1">mRWJ</a>, *<a class="code" href="classStdWellCont.html#1c8677935e94582c4b539a56f5a7db24">mWRJ</a>, *<a class="code" href="classStdWellCont.html#7013b1dfdb38302c699b7f910cf80bc9">mWWJ</a>;
<a name="l00111"></a><a class="code" href="classStdWellCont.html#c2fec4639edd393b940e3e874753f139">00111</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#6794450e386c5777b1be5b2687f342ac">mWRHS</a>, *<a class="code" href="classStdWellCont.html#c2fec4639edd393b940e3e874753f139">mWWRHS</a>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         <span class="comment">// --- reservoir data (for copy) ---</span>
<a name="l00114"></a><a class="code" href="classStdWellCont.html#4ba4530a83ef212794086f6ad7da0d77">00114</a>         <span class="keyword">const</span> <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#389a7f1d411a7d81525ba70ccb221a37">rPres</a>, *<a class="code" href="classStdWellCont.html#fe942d850fbbd9e13b89e6f91c33031f">rTemp</a>, *<a class="code" href="classStdWellCont.html#a528f4facc19dacc0cb2cbc76749897c">rMob</a>, *<a class="code" href="classStdWellCont.html#10aa04ad119ccc4dc775859038b5d50e">rDens</a>, *<a class="code" href="classStdWellCont.html#4ba4530a83ef212794086f6ad7da0d77">rXcp</a>, *<a class="code" href="classStdWellCont.html#95f558f6a0af8b49f5bf4ba79f95ad67">mPhase_Comp</a>, *<a class="code" href="classStdWellCont.html#9f70a06eb1127de5a5b48da50b05b54c">rDepth</a>;
<a name="l00115"></a><a class="code" href="classStdWellCont.html#1c2bb692f1bdf9365ab3df8a17ab55b3">00115</a>         <span class="keyword">const</span> <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#df04e400af424905bdcd14409ae03477">rDMob_dp</a>, *<a class="code" href="classStdWellCont.html#befc510640f6e7f431e883e664de64e6">rDMob_ds</a>, *<a class="code" href="classStdWellCont.html#56c699924c74ed5d94088182568d38b4">rDMob_dxi</a>, *<a class="code" href="classStdWellCont.html#1c2bb692f1bdf9365ab3df8a17ab55b3">rDXcp_dp</a>, *<a class="code" href="classStdWellCont.html#25d50037c8ccfb1eb4c70b659c83fa41">rDDens_dp</a>, *<a class="code" href="classStdWellCont.html#43b2633b66b6ff492b41d52dfe8655cc">rDDens_dxi</a>;
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <span class="comment">// --- add for thermal extension</span>
<a name="l00118"></a><a class="code" href="classStdWellCont.html#58261029c3aa88704e6dde4e358ecb1a">00118</a>   <span class="keywordtype">int</span> <a class="code" href="classStdWellCont.html#58261029c3aa88704e6dde4e358ecb1a">mThermal</a>;
<a name="l00119"></a><a class="code" href="classStdWellCont.html#1ef117aecbf643f7cb0b2e6e194eae72">00119</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#297e995b145c2df41c9f15b9ac93524d">rDDens_dT</a>, *<a class="code" href="classStdWellCont.html#1ef117aecbf643f7cb0b2e6e194eae72">rDMob_dT</a>;
<a name="l00120"></a><a class="code" href="classStdWellCont.html#f4ba8222911056a0ac38cd76c2e0bb4e">00120</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#f4ba8222911056a0ac38cd76c2e0bb4e">rHp</a>, *<a class="code" href="classStdWellCont.html#469d57dbc4f235af9d334b75d19db531">rDHp_dp</a>, *<a class="code" href="classStdWellCont.html#3795db1958a3a3b65783d0dc7210efbe">rDHp_dT</a>, *<a class="code" href="classStdWellCont.html#3fc4340454f2fb1b0ab7a0245aece686">rDHp_dxi</a>;
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="classStdWellCont.html#c649cb0231ef914cb980c17710677bd5">00122</a>   <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#c649cb0231ef914cb980c17710677bd5">tmpDUp_Dxi</a>;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <span class="comment">// --- well block data (copied from reservoir data) ---</span>
<a name="l00125"></a><a class="code" href="classStdWellCont.html#46ee5a99145f9440c54aefa2f8826060">00125</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#d52cb526b291465b8b204a167889e657">mPres</a>, *<a class="code" href="classStdWellCont.html#af81f17427df23058b529da3009d1510">mTemp</a>, *<a class="code" href="classStdWellCont.html#df686e89ffcc22fcf69b383fe6ff391b">mMob</a>, *<a class="code" href="classStdWellCont.html#3a91cb6eb4c6e5f83ac54dff54185510">mDens</a>, *<a class="code" href="classStdWellCont.html#46ee5a99145f9440c54aefa2f8826060">mXcp</a>, *<a class="code" href="classStdWellCont.html#67eb95621332d6338fbdbce544f839ec">mDepth</a>, *<a class="code" href="classStdWellCont.html#2b72805901ecca75d1f093d10026a6a4">mDXcp_dp</a>;
<a name="l00126"></a><a class="code" href="classStdWellCont.html#26e9d99978f0da0be6f0854e391f64c5">00126</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#ba467f989f6474dc66125994e736e6fa">mDMob_dp</a>, *<a class="code" href="classStdWellCont.html#24f7f86dfed8228549ddb0c032b37a63">mDMob_ds</a>, *<a class="code" href="classStdWellCont.html#26e9d99978f0da0be6f0854e391f64c5">mDMob_dxi</a>;
<a name="l00127"></a><a class="code" href="classStdWellCont.html#70da7b1c92e064875d1ffd5509a69a81">00127</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#4974e7352fdea78032d91b2b15f391c3">mDDens_dp</a>, *<a class="code" href="classStdWellCont.html#70da7b1c92e064875d1ffd5509a69a81">mDDens_dxi</a>;
<a name="l00128"></a><a class="code" href="classStdWellCont.html#da1bf3d6b0815cc121fa0d8fe99296b4">00128</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#da1bf3d6b0815cc121fa0d8fe99296b4">mTMob</a>, *<a class="code" href="classStdWellCont.html#64db030ea50241f8b2f46f705223b6c9">mDTMob_dp</a>, *<a class="code" href="classStdWellCont.html#c6e494657fc03bd62932ad0145a422f3">mDTMob_ds</a>;
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="classStdWellCont.html#096988095a43bc2b0b4134a8438b8091">00130</a>         <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#096988095a43bc2b0b4134a8438b8091">pureCompFluid</a>;  <span class="comment">// Is the injected fluid is a pure component?</span>
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classStdWellCont.html#d14d13fa2630240dd84b541564412358">00132</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#d14d13fa2630240dd84b541564412358">nWRJColInd</a>;
<a name="l00133"></a><a class="code" href="classStdWellCont.html#ad7ab11731fe1ce8338bf7ca1c6b3dbc">00133</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#ad7ab11731fe1ce8338bf7ca1c6b3dbc">nWRJRowInd</a>;
<a name="l00134"></a><a class="code" href="classStdWellCont.html#78e36ce9fd1473e5d244f346e447c4b0">00134</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#78e36ce9fd1473e5d244f346e447c4b0">nRWJColInd</a>;
<a name="l00135"></a><a class="code" href="classStdWellCont.html#9c25e4c8c0f09e2a1b3f4daab2263176">00135</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#9c25e4c8c0f09e2a1b3f4daab2263176">nRWJRowInd</a>;
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classStdWellCont.html#035704644a6a404eac257719e99cfd73">00137</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#035704644a6a404eac257719e99cfd73">mSegPriVars</a>;
<a name="l00138"></a><a class="code" href="classStdWellCont.html#bdffd372638c3b41bedc4a5877e88b19">00138</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#bdffd372638c3b41bedc4a5877e88b19">mSegImpLvl</a>;
<a name="l00139"></a><a class="code" href="classStdWellCont.html#abdb6c784087cda2760d9e40f4526836">00139</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#abdb6c784087cda2760d9e40f4526836">mAccuImp</a>;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="comment">// --- add for thermal extension</span>
<a name="l00142"></a><a class="code" href="classStdWellCont.html#868f5f1fd5c50522e691d49272464df1">00142</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#82b481ca3b40c23ebdece3fa64140ab6">mDDens_dT</a>, *<a class="code" href="classStdWellCont.html#cdf43f593d71db496cba683a2b162ddb">mDMob_dT</a>, *<a class="code" href="classStdWellCont.html#868f5f1fd5c50522e691d49272464df1">mDTMob_dT</a>;
<a name="l00143"></a><a class="code" href="classStdWellCont.html#08f883bf407513cffc397222d7c9f5c1">00143</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#08f883bf407513cffc397222d7c9f5c1">mHp</a>, *<a class="code" href="classStdWellCont.html#e1dc39c6a831658335d4d3f4ac661d82">mDHp_dp</a>, *<a class="code" href="classStdWellCont.html#af54e2cef6cc2ec623059131ec1afe17">mDHp_dT</a>, *<a class="code" href="classStdWellCont.html#ac5dee658f5c061ae31595156a8eed0d">mDHp_dxi</a>;
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classStdWellCont.html#e41552bd0df02b65dd964a30f41956c0">00145</a>         <a class="code" href="classSubRRBlk.html">SubRRBlk</a>* <a class="code" href="classStdWellCont.html#e41552bd0df02b65dd964a30f41956c0">mWWJ_Mat</a>;
<a name="l00146"></a><a class="code" href="classStdWellCont.html#5afc7bc0bdea18588767686ea8ccb337">00146</a>         <a class="code" href="classSubRWBlk.html">SubRWBlk</a>* <a class="code" href="classStdWellCont.html#5afc7bc0bdea18588767686ea8ccb337">mRWJ_Mat</a>;
<a name="l00147"></a><a class="code" href="classStdWellCont.html#32d1282a9f13edb959153639b51b1ce2">00147</a>         <a class="code" href="classSubWRBlk.html">SubWRBlk</a>* <a class="code" href="classStdWellCont.html#32d1282a9f13edb959153639b51b1ce2">mWRJ_Mat</a>;
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classStdWellCont.html#443338ac7de0ae8531107c825a06e77d">00149</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#443338ac7de0ae8531107c825a06e77d">mPreRWJ</a>;                                <span class="comment">// For preconditioning purpose</span>
<a name="l00150"></a><a class="code" href="classStdWellCont.html#7f33771aa2ceb8073350d1b941799cde">00150</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#7f33771aa2ceb8073350d1b941799cde">mPreWRJ</a>;                                <span class="comment">// </span>
<a name="l00151"></a><a class="code" href="classStdWellCont.html#327bb8be28a6da0bbab870bf6845f1ab">00151</a>         <span class="keywordtype">double</span> *<a class="code" href="classStdWellCont.html#327bb8be28a6da0bbab870bf6845f1ab">mPreWWJ</a>;                                <span class="comment">// </span>
<a name="l00152"></a><a class="code" href="classStdWellCont.html#80a745c401f349d3b4cf34951a36dcf7">00152</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#80a745c401f349d3b4cf34951a36dcf7">mPreWWRHSflag</a>;                             <span class="comment">// describe which RHS element should be pickup to form PreWWRHS</span>
<a name="l00153"></a><a class="code" href="classStdWellCont.html#9cf0defa95346e3935934d9363636ef9">00153</a>         <span class="keywordtype">int</span> *<a class="code" href="classStdWellCont.html#9cf0defa95346e3935934d9363636ef9">mPresVarflag</a>;                              <span class="comment">// describe which variable is pressure </span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="keyword">private</span>:
<a name="l00156"></a>00156         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#c223c8f2baeed800722adbf3ac01fa4f">convertMobData</a>();          <span class="comment">//get mobility from mobility*density </span>
<a name="l00157"></a>00157         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#649a84c7d37401f57b986594ffcb7518">setUpstreamProps</a>();  <span class="comment">// setup the density &amp; Xcp for upstream</span>
<a name="l00158"></a>00158         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#650785ae49c93f2e5050dd2a88253be8">setProWellProps</a>();
<a name="l00159"></a>00159         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#7b65cb51cb3f041e059bd5be5f926173">setInjWellProps</a>();
<a name="l00160"></a>00160 
<a name="l00161"></a>00161         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#3572592ce35a004790c75de2a6e5a0f3">calcTotalMob</a>();            <span class="comment">// calculate total mobility for injector</span>
<a name="l00162"></a>00162         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#1ffc78bec15d42eff598aaaeec2acd2a">calcWPhaseVRate</a>();         <span class="comment">// calculate mWPhaseVRate</span>
<a name="l00163"></a>00163         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#5cd6511ccf2b7f702642ce90f96ed6bc">calcWDens</a>();                       <span class="comment">// calculate mWDens</span>
<a name="l00164"></a>00164         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#e748b97baa219f9929184783eba7c0fb">calcWHPhaseVRate</a>();        <span class="comment">// calculate mWHPhaseVRate</span>
<a name="l00165"></a>00165         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#894cbb32d18cdea35dc63880cc333852">calcWHCompRate</a>();          <span class="comment">// calculate mWHCompRate</span>
<a name="l00166"></a>00166 
<a name="l00167"></a>00167         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#18ada2efa4310033421fe135b50f74a3">isPureCompFluid</a>();         <span class="comment">//determine if the injected fluid is a pure component</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#71ed598e41db467c6a3d0d203a352b9d">isValidInjWell</a>();
<a name="l00170"></a>00170         <span class="keywordtype">bool</span> <a class="code" href="classStdWellCont.html#f52810ef26de4c9a6d05370b94c43243">isValidProdWell</a>();
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <span class="keywordtype">void</span> <a class="code" href="classStdWellCont.html#f93384d27d67fce7627a0253c4cc3ffa">calcWHCompProps</a>(<span class="keywordtype">double</span> sum, <a class="code" href="EnumDef_8h.html#252ae39e7eb052536a4de541e946a084">CellFluidType</a> fluidType, <a class="code" href="classCompFluid.html">CompFluid</a> *mCompFluid);
<a name="l00173"></a>00173 };
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Apr 28 16:09:41 2009 for GPRS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
