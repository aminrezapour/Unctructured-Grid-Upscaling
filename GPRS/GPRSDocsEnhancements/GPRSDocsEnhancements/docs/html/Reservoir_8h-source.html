<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GPRS: Reservoir.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2F.html">GPRS2X</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2F.html">PC_CODE</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2Fcode_2F.html">code</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_E_3A_2FUsers_2Fhqpan_2FGPRS2X_2FPC_5FCODE_2Fcode_2Fres_2F.html">res</a></div>
<h1>Reservoir.h</h1><a href="Reservoir_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment"> * File: Reservoir.h</span>
<a name="l00003"></a>00003 <span class="comment"> * -----------------</span>
<a name="l00004"></a>00004 <span class="comment"> * Header file for Reservoir class.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * ------------------------------------------ </span>
<a name="l00007"></a>00007 <span class="comment"> * Created      01/30/99        Huic </span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> */</span>
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef RESERVOIR_H_</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define RESERVOIR_H_</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#include "../utl/FileIO.h"</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "../mth/mthModelBase.h"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="keyword">class </span><a class="code" href="classFluid.html">Fluid</a>;
<a name="l00016"></a>00016 <span class="keyword">class </span><a class="code" href="classTracer.html">Tracer</a>;
<a name="l00017"></a>00017 <span class="keyword">class </span><a class="code" href="classGrid.html">Grid</a>;
<a name="l00018"></a>00018 <span class="keyword">class </span><a class="code" href="classRock.html">Rock</a>;
<a name="l00019"></a>00019 <span class="keyword">class </span><a class="code" href="classRockFluid.html">RockFluid</a>;
<a name="l00020"></a>00020 <span class="keyword">class </span><a class="code" href="classChem.html">Chem</a>;
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="keyword">class </span><a class="code" href="classEqnExpander.html">EqnExpander</a>;
<a name="l00023"></a>00023 <span class="keyword">class </span><a class="code" href="classmthThermalFlowEqnModel.html">mthThermalFlowEqnModel</a>;
<a name="l00024"></a>00024 <span class="keyword">class </span><a class="code" href="classmthThermalFluidModel.html">mthThermalFluidModel</a>;
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="classReservoir.html">00026</a> <span class="keyword">class </span><a class="code" href="classReservoir.html">Reservoir</a> {
<a name="l00027"></a>00027 <span class="keyword">public</span>:
<a name="l00028"></a>00028         <a class="code" href="classReservoir.html#1951104c63485a9239cfa5606fffd166">Reservoir</a>(<a class="code" href="classFileIO.html">FileIO</a> &amp;fio);
<a name="l00029"></a>00029         <a class="code" href="classReservoir.html#d71efa15224692eec954645bc6527df0">~Reservoir</a>();
<a name="l00030"></a>00030 
<a name="l00031"></a>00031         <span class="comment">// --- simulation process ---</span>
<a name="l00032"></a>00032         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#7e1eb1b92023778665c22a98bd1f087b">initialize</a>();                                              <span class="comment">// initialize the reservoir</span>
<a name="l00033"></a>00033         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#d14c63ab67892e39fce4c04e8586f776">retract</a>();                                                 <span class="comment">// retract to old timestep value, if can not converge</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035         <span class="comment">// --- getters -------</span>
<a name="l00036"></a><a class="code" href="classReservoir.html#24af3616f1a4bfa79c2550b8ff5b7e83">00036</a>         <span class="keywordtype">char</span>*           <a class="code" href="classReservoir.html#24af3616f1a4bfa79c2550b8ff5b7e83">getName</a>()               { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#311c2c8498df6a626cbdb8aa4193499c">mName</a>; }
<a name="l00037"></a><a class="code" href="classReservoir.html#dbdc593552c3c19d721694321d07cd16">00037</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#dbdc593552c3c19d721694321d07cd16">getnCells</a>()             { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#57eadac3741b1d7222207c237854d08b">nCells</a>; }
<a name="l00038"></a><a class="code" href="classReservoir.html#f8b3ced7fbc0b60098d07a93d3fac77f">00038</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#f8b3ced7fbc0b60098d07a93d3fac77f">getnConns</a>()             { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#a93be0c9e6ce5da64a48eb9db0de61a5">nConns</a>; }
<a name="l00039"></a><a class="code" href="classReservoir.html#d49c35301fb68c90e82cd3d416e27ebb">00039</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#d49c35301fb68c90e82cd3d416e27ebb">getnPhases</a>()    { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#dcc06d6ff7fd7b752d6c40e7531161cb">nPhases</a>; }
<a name="l00040"></a><a class="code" href="classReservoir.html#6543a2bc6eff08e71106f47c1ec2f225">00040</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#6543a2bc6eff08e71106f47c1ec2f225">getnComps</a>()             { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#06331ccd0bada21e9d1adcded225bf15">nComps</a>; }
<a name="l00041"></a><a class="code" href="classReservoir.html#3a79a25b5b595bd8cb8018f69681ffcd">00041</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#3a79a25b5b595bd8cb8018f69681ffcd">getnHCPhases</a>()  { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#a2024c41c12076d24422a7a5d976291a">nHCPhases</a>; }
<a name="l00042"></a><a class="code" href="classReservoir.html#634f0ec26def596f4dc9a407e652c330">00042</a>         <span class="keywordtype">int</span>                     <a class="code" href="classReservoir.html#634f0ec26def596f4dc9a407e652c330">getnHCComps</a>()   { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#d6b5a0ef13d3869e66d131e99164e751">nHCComps</a>; }
<a name="l00043"></a><a class="code" href="classReservoir.html#12bd56b10169b6c231ab58b6be29aa20">00043</a>         <span class="keywordtype">double</span>*         <a class="code" href="classReservoir.html#12bd56b10169b6c231ab58b6be29aa20">getOCIP</a>()               { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#598cbeb8574a8f08f909fbb832ef90e2">mOCIP</a>; }
<a name="l00044"></a><a class="code" href="classReservoir.html#64f8e5a12bc939effdb4127c9b568602">00044</a>         <span class="keywordtype">double</span>*         <a class="code" href="classReservoir.html#64f8e5a12bc939effdb4127c9b568602">getTCompMass</a>()  { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#d70825c5e4f985a99025f88035ea40d2">mTCompMass</a>; }
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classReservoir.html#98be0e1e94569509949ca955ea040194">00046</a>         <a class="code" href="classDataPool.html">DataPool</a>*       <a class="code" href="classReservoir.html#98be0e1e94569509949ca955ea040194">getDataPool</a>()   { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#86a1e1bc0a539995397d77c6d08fe853">mDataPool</a>; }
<a name="l00047"></a><a class="code" href="classReservoir.html#76515eaffc5fccacd5a6ca4616f63270">00047</a>         <a class="code" href="classFluid.html">Fluid</a>*          <a class="code" href="classReservoir.html#76515eaffc5fccacd5a6ca4616f63270">getFluid</a>()              { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#9d3bafe439227c0e320e2c62f82c88ba">mFluid</a>; }
<a name="l00048"></a><a class="code" href="classReservoir.html#91c5f10e74962d2cb588c7f4ca0e9de8">00048</a>         <a class="code" href="classChem.html">Chem</a>*           <a class="code" href="classReservoir.html#91c5f10e74962d2cb588c7f4ca0e9de8">getChem</a>()               { <span class="keywordflow">return</span> <a class="code" href="classReservoir.html#e192dcaaddf857f48d1d26d830419d9f">mChem</a>; }
<a name="l00049"></a>00049 
<a name="l00050"></a>00050         <span class="comment">// --- write some time dependent values to output file ---</span>
<a name="l00051"></a>00051         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#5f35b43f6e43c5226fbd0d522ff9b151">report</a>(<span class="keywordtype">double</span> t, <span class="keywordtype">bool</span> printDebug);
<a name="l00052"></a>00052         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#ff9459e53a11dc909296c9f7f36cbb52">witeDataToRestart</a>(ofstream&amp; reStartFile) <span class="keyword">const</span>;
<a name="l00053"></a>00053         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#fbae40dc30b83355d4faea8d18ad45cb">readDataToRestart</a>(ifstream&amp; reStartFile) <span class="keyword">const</span>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <span class="comment">//write derivative of accumulation wrt prosity</span>
<a name="l00056"></a>00056         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#54b3f3207369225c4d655ed47906854b">writeProJac</a>(<span class="keywordtype">double</span> t);
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="classReservoir.html#d3f0331835fc6ec41d1ddfcd0879f268">00058</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classSimMaster.html">SimMaster</a>;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#e5bde2ac67a952d53524f57ea150d9d5">final_report</a> ();
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="keyword">private</span>:
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classReservoir.html#311c2c8498df6a626cbdb8aa4193499c">00064</a>         <span class="keywordtype">char</span> *<a class="code" href="classReservoir.html#311c2c8498df6a626cbdb8aa4193499c">mName</a>;                                                            <span class="comment">// reservoir name  </span>
<a name="l00065"></a><a class="code" href="classReservoir.html#0847dfcb8b5461102bfeb116776ae80b">00065</a>         <a class="code" href="classGrid.html">Grid</a> *<a class="code" href="classReservoir.html#0847dfcb8b5461102bfeb116776ae80b">mGrid</a>;                                                            <span class="comment">// pointer to physical grid     </span>
<a name="l00066"></a><a class="code" href="classReservoir.html#dcc06d6ff7fd7b752d6c40e7531161cb">00066</a>         <span class="keywordtype">int</span> <a class="code" href="classReservoir.html#57eadac3741b1d7222207c237854d08b">nCells</a>, <a class="code" href="classReservoir.html#a93be0c9e6ce5da64a48eb9db0de61a5">nConns</a>, <a class="code" href="classReservoir.html#dcc06d6ff7fd7b752d6c40e7531161cb">nPhases</a>, <a class="code" href="classReservoir.html#06331ccd0bada21e9d1adcded225bf15">nComps</a>, <a class="code" href="classReservoir.html#a2024c41c12076d24422a7a5d976291a">nHCPhases</a>, <a class="code" href="classReservoir.html#d6b5a0ef13d3869e66d131e99164e751">nHCComps</a>;
<a name="l00067"></a><a class="code" href="classReservoir.html#b2c91dfec5b26794c96c18337d5b5dee">00067</a>         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#b2c91dfec5b26794c96c18337d5b5dee">mBlackOil</a>;                                                         <span class="comment">// black-oil?</span>
<a name="l00068"></a><a class="code" href="classReservoir.html#58261029c3aa88704e6dde4e358ecb1a">00068</a>         <span class="keywordtype">int</span> <a class="code" href="classReservoir.html#58261029c3aa88704e6dde4e358ecb1a">mThermal</a>;
<a name="l00069"></a>00069         
<a name="l00070"></a><a class="code" href="classReservoir.html#86a1e1bc0a539995397d77c6d08fe853">00070</a>         <a class="code" href="classDataPool.html">DataPool</a> *<a class="code" href="classReservoir.html#86a1e1bc0a539995397d77c6d08fe853">mDataPool</a>;                                            <span class="comment">// pointer to datapool</span>
<a name="l00071"></a><a class="code" href="classReservoir.html#9d3bafe439227c0e320e2c62f82c88ba">00071</a>         <a class="code" href="classFluid.html">Fluid</a> *<a class="code" href="classReservoir.html#9d3bafe439227c0e320e2c62f82c88ba">mFluid</a>;                                                          <span class="comment">// pointer to physical fluid            </span>
<a name="l00072"></a><a class="code" href="classReservoir.html#76fe2d7017e6266b33f744e35aeba99e">00072</a>         <a class="code" href="EnumDef_8h.html#d3266753077b370aacd2b6763f113977">FluidType</a> <a class="code" href="classReservoir.html#76fe2d7017e6266b33f744e35aeba99e">mFluidType</a>;                                           <span class="comment">// fluid type (GOW, GO, OW ....)</span>
<a name="l00073"></a><a class="code" href="classReservoir.html#e192dcaaddf857f48d1d26d830419d9f">00073</a>         <a class="code" href="classChem.html">Chem</a> *<a class="code" href="classReservoir.html#e192dcaaddf857f48d1d26d830419d9f">mChem</a>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="classReservoir.html#03869ec9e5b2dee5ca2f00cea47204e6">00076</a>         <a class="code" href="classRock.html">Rock</a> *<a class="code" href="classReservoir.html#03869ec9e5b2dee5ca2f00cea47204e6">mRock</a>;                                                            <span class="comment">// pointer to physical rock     </span>
<a name="l00077"></a><a class="code" href="classReservoir.html#282c6ed1e12008d6a1e4666b6facb17a">00077</a>         <a class="code" href="classRockFluid.html">RockFluid</a> *<a class="code" href="classReservoir.html#282c6ed1e12008d6a1e4666b6facb17a">mRockFluid</a>;                                          <span class="comment">// pointer to physical rockfluid                </span>
<a name="l00078"></a><a class="code" href="classReservoir.html#14589460c6d17a5feb082883027ca7b2">00078</a>         <a class="code" href="structEql.html">Eql</a> <a class="code" href="classReservoir.html#14589460c6d17a5feb082883027ca7b2">mEql</a>;                                                                       <span class="comment">// initial equilibrium data</span>
<a name="l00079"></a><a class="code" href="classReservoir.html#f6bd71eab78461ed1e7d381f4b21b6c9">00079</a>         <span class="keywordtype">double</span> <a class="code" href="classReservoir.html#f6bd71eab78461ed1e7d381f4b21b6c9">mP_aver</a>;
<a name="l00080"></a><a class="code" href="classReservoir.html#075c1e66c640274b632d652c4d044444">00080</a>         <span class="keywordtype">int</span> *<a class="code" href="classReservoir.html#075c1e66c640274b632d652c4d044444">mMCells</a>;                                                           <span class="comment">// list of index of monitored cells</span>
<a name="l00081"></a><a class="code" href="classReservoir.html#6d4c7b15013c6389f5bd879b12707802">00081</a>         <span class="keywordtype">double</span> *<a class="code" href="classReservoir.html#6d4c7b15013c6389f5bd879b12707802">mRs</a>;                                <span class="comment">// initial distribution of Rg in grid blocks</span>
<a name="l00082"></a><a class="code" href="classReservoir.html#3a9d9bb86d64b41a5490f0f345292f52">00082</a>         <span class="keywordtype">int</span> <a class="code" href="classReservoir.html#3a9d9bb86d64b41a5490f0f345292f52">nMCells</a>;                                                            <span class="comment">// number of index of monitored cells</span>
<a name="l00083"></a><a class="code" href="classReservoir.html#d70825c5e4f985a99025f88035ea40d2">00083</a>         <span class="keywordtype">double</span> *<a class="code" href="classReservoir.html#d70825c5e4f985a99025f88035ea40d2">mTCompMass</a>;                                                     <span class="comment">// total reservoir component mass</span>
<a name="l00084"></a><a class="code" href="classReservoir.html#598cbeb8574a8f08f909fbb832ef90e2">00084</a>     <span class="keywordtype">double</span> *<a class="code" href="classReservoir.html#598cbeb8574a8f08f909fbb832ef90e2">mOCIP</a>;                                                              <span class="comment">// original component in place</span>
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="classReservoir.html#4932657c356b87e6046df785d5141cf7">00086</a>         std::list&lt;mthModelBase*&gt; <a class="code" href="classReservoir.html#4932657c356b87e6046df785d5141cf7">mMthModels</a>;            <span class="comment">// list of modules</span>
<a name="l00087"></a><a class="code" href="classReservoir.html#064e418ffa1ff9a41e5d4bcc5d851553">00087</a>         std::vector&lt;Tracer*&gt; <a class="code" href="classReservoir.html#064e418ffa1ff9a41e5d4bcc5d851553">mTracers</a>;                          <span class="comment">// list of tracers;     </span>
<a name="l00088"></a><a class="code" href="classReservoir.html#f0fc23809ca173813ea36b57f14ec8aa">00088</a>         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#f0fc23809ca173813ea36b57f14ec8aa">TracerOn</a>;
<a name="l00089"></a>00089         
<a name="l00090"></a><a class="code" href="classReservoir.html#aa604c2edf613669c294a3c9c0cdbcb0">00090</a>         ofstream <a class="code" href="classReservoir.html#aa604c2edf613669c294a3c9c0cdbcb0">gridOut</a>;                                                       <span class="comment">// output of grid pressure and saturations</span>
<a name="l00091"></a><a class="code" href="classReservoir.html#309155d44ea3a84763501960d580f59d">00091</a>         ofstream <a class="code" href="classReservoir.html#309155d44ea3a84763501960d580f59d">resOut</a>;                                                        <span class="comment">// normal output</span>
<a name="l00092"></a><a class="code" href="classReservoir.html#3ecb84a268ceaa8f1e7c95e35b39f2ce">00092</a>         ofstream <a class="code" href="classReservoir.html#3ecb84a268ceaa8f1e7c95e35b39f2ce">cellOut</a>; 
<a name="l00093"></a><a class="code" href="classReservoir.html#1b451b8db3da66f32bec9133dca5150c">00093</a>         ofstream <a class="code" href="classReservoir.html#1b451b8db3da66f32bec9133dca5150c">proOut</a>;        <span class="comment">//output derivative of accumulation wrt prosity</span>
<a name="l00094"></a><a class="code" href="classReservoir.html#64e043eb742dddecda98744dd0ea24c4">00094</a>         ofstream <a class="code" href="classReservoir.html#64e043eb742dddecda98744dd0ea24c4">gorOut</a>;    <span class="comment">//output Solution GOR for all cells</span>
<a name="l00095"></a><a class="code" href="classReservoir.html#b57d17780c210ac9893a5146b033bed5">00095</a>         ofstream <a class="code" href="classReservoir.html#b57d17780c210ac9893a5146b033bed5">massOut</a>; 
<a name="l00096"></a>00096 
<a name="l00097"></a><a class="code" href="classReservoir.html#85d72976aeffdb745c4a21a5107f2a79">00097</a>         <span class="keywordtype">int</span> <a class="code" href="classReservoir.html#85d72976aeffdb745c4a21a5107f2a79">numofTimeSteps</a>;                                                     <span class="comment">//track number of time steps for gridOut</span>
<a name="l00098"></a><a class="code" href="classReservoir.html#25a0b7bbf053db59f03d166833f8ac46">00098</a>         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#25a0b7bbf053db59f03d166833f8ac46">isMPConn</a>;                                                          <span class="comment">//true for MP, false for 2P connection</span>
<a name="l00099"></a><a class="code" href="classReservoir.html#8bbadb75cd90f29e2c310a54557c1e94">00099</a>         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#8bbadb75cd90f29e2c310a54557c1e94">isWriteProJac</a>; <span class="comment">//flag for writing derivative of accumulation wrt prosity</span>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="comment">// @@ Robin Hui: list of rel perm data sets</span>
<a name="l00102"></a><a class="code" href="classReservoir.html#d282ff1a1f4d666bceb2c9aac905a636">00102</a>         std::vector&lt;RockFluid *&gt; <a class="code" href="classReservoir.html#d282ff1a1f4d666bceb2c9aac905a636">mRockFluidList</a>;                                                
<a name="l00103"></a><a class="code" href="classReservoir.html#9390fddae6a4ba48293033a8e4549cc4">00103</a>         std::vector&lt;double*&gt; <a class="code" href="classReservoir.html#9390fddae6a4ba48293033a8e4549cc4">mCellRelPermSet</a>;           <span class="comment">// should be int but need popRealArray features </span>
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">// Functions :</span>
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <span class="comment">// --- for constructor ---</span>
<a name="l00108"></a>00108         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#5f825132b208a4076a60627f6ace0975">readData</a>(<a class="code" href="classFileIO.html">FileIO</a> &amp;fio);                                     <span class="comment">// read data</span>
<a name="l00109"></a>00109         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#dab16561106663f9c4a96b07b47b9cf3">setName</a>(<span class="keywordtype">char</span> *name);                                       <span class="comment">// set the reservoir name</span>
<a name="l00110"></a>00110         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#b7b384d286a4bdea4a47dd4f5dad4b8b">addOneModel</a>(<a class="code" href="classmthModelBase.html">mthModelBase</a> *model);          <span class="comment">// add in a new module</span>
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         <span class="comment">// --- for initialization ---</span>
<a name="l00113"></a>00113         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#73893528c7542d53ea9186234219f577">defineModels</a>();                                            <span class="comment">// select and initialize modules</span>
<a name="l00114"></a>00114         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#664381e7a1a9c1392d61d150135a4eda">registerData</a>();                                            <span class="comment">// each module register data</span>
<a name="l00115"></a>00115         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#e8b623e64386f1e054d3ffdb57078d1e">SetOutput</a>();
<a name="l00116"></a>00116         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#7f3ef554149d35e871a4ca8ef32daf27">ReadRsData</a>(<a class="code" href="classFileIO.html">FileIO</a> &amp;fio);               <span class="comment">// read the initial distribution of RS</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         <span class="comment">// --- for simulation ---</span>
<a name="l00120"></a>00120         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#9b8a99229f340e6d434a4973816d0956">calcInitProps</a>();                                           <span class="comment">// init props at the start of each timestep</span>
<a name="l00121"></a>00121         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#18bb1618d0591099a2b233724fab20e6">calcProps</a>();                                                       <span class="comment">// props at each Newton iteration</span>
<a name="l00122"></a>00122         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#3e1d88b993c5e3a73836e86278b9a53e">linearize</a>(<span class="keywordtype">double</span> <a class="code" href="classSimMaster.html#3017d911efceb27d1de6a92b70979795">dt</a>);                                      <span class="comment">// assemble Jacobian and RHS</span>
<a name="l00123"></a>00123         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#2279ca0492a495f0a03dc16948395bdc">newtonUpdate</a>();                                            <span class="comment">// Newton update</span>
<a name="l00124"></a>00124         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#f85ab4b5010fd3a30031b97460a64945">convergeF</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classSimMaster.html#3017d911efceb27d1de6a92b70979795">dt</a>);                                                        <span class="comment">// check convergence of equation residual</span>
<a name="l00125"></a>00125         <span class="keywordtype">bool</span> <a class="code" href="classReservoir.html#bf7cb8e6c2fda4c3ea8d4954ffa664f8">convergeDY</a>();                                                      <span class="comment">// check convergence of variable change</span>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127         <span class="keywordtype">void</span> <a class="code" href="classReservoir.html#91f4d8c2effa5f44069f35338ebd3052">outputInitAllCells</a>();  <span class="comment">//output initial values with inactive cells</span>
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classReservoir.html#83749d637bfe1a7d20527877065899f5">00129</a>   <a class="code" href="classEqnExpander.html">EqnExpander</a> *<a class="code" href="classReservoir.html#83749d637bfe1a7d20527877065899f5">mEqnExpander</a>;                                                            <span class="comment">// pointer to eqnExpander</span>
<a name="l00130"></a><a class="code" href="classReservoir.html#719f42842693339db8003bcb57e6c530">00130</a>   <a class="code" href="classmthThermalFlowEqnModel.html">mthThermalFlowEqnModel</a> *<a class="code" href="classReservoir.html#719f42842693339db8003bcb57e6c530">mThermalEquation</a>;
<a name="l00131"></a><a class="code" href="classReservoir.html#f78e97860c735fe81eacac0e3975f8d5">00131</a>   <a class="code" href="classmthThermalFluidModel.html">mthThermalFluidModel</a> *<a class="code" href="classReservoir.html#f78e97860c735fe81eacac0e3975f8d5">mThermalFluid</a>;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 };
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Apr 28 16:09:41 2009 for GPRS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
